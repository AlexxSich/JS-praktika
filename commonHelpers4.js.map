{"version":3,"file":"commonHelpers4.js","sources":["../src/js/ipfinder.js"],"sourcesContent":["const refs = {\n  formEl: document.querySelector('.form-ip-finder'),\n  cardInfo: document.querySelector('.ip-card-container'),\n};\n\n// ============REQUEST TO THE SERVER=======================\nfunction getInfoByIP(userIp) {\n  const BASE_URL = 'https://ip-geolocation-ipwhois-io.p.rapidapi.com';\n  const END_POINT = '/json/';\n  const params = new URLSearchParams({\n    ip: userIp,\n  });\n\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n\n  const options = {\n    headers: {\n      'X-RapidAPI-Key': 'f6fe44fec7msh9f58de139869781p15408ajsn8e7b73b5d6b1',\n      'X-RapidAPI-Host': 'ip-geolocation-ipwhois-io.p.rapidapi.com',\n    },\n  };\n  return fetch(url, options).then(res => res.json());\n}\n\n// ============== ADD LISTENER================\nrefs.formEl.addEventListener('submit', ipSubmitHandler);\n\nfunction ipSubmitHandler(event) {\n  event.preventDefault();\n\n  const userIp = event.target.elements.query.value;\n\n  getInfoByIP(userIp).then(data => {\n    const markup = templateIp(data);\n    refs.cardInfo.innerHTML = markup;\n  });\n  event.target.reset();\n}\n\n// ==============RENDER=======================\n\nfunction templateIp({\n  country,\n  ip,\n  city,\n  country_flag,\n  currency,\n  timezone,\n  completed_requests,\n  currency_rates,\n  latitude,\n  longitude,\n}) {\n  return `<div class=\"ip-container\">\n  <div class=\"info-item\">\n  <img class=\"flag-of-country\" src=\"${country_flag}\" alt=\"Flag of ${country}\">\n  <span class=\"info-label\">Country:</span>\n  <span class=\"info-value\">${country}</span>\n</div>\n\n<div class=\"info-item\">\n  <span class=\"info-label\">IP Address:</span>\n  <span class=\"info-value\">${ip}</span>\n</div>\n\n<div class=\"info-item\">\n  <span class=\"info-label\">City:</span>\n  <span class=\"info-value\">${city}</span>\n</div>\n\n<div class=\"info-item\">\n  <span class=\"info-label\">Time zone:</span>\n  <span class=\"info-value\">${timezone}</span>\n</div>\n\n<div class=\"info-item\">\n  <span class=\"info-label\">Currency:</span>\n  <span class=\"info-value\">${currency}</span>\n</div>\n\n<div class=\"info-item\">\n  <span class=\"info-label\">Currency Rate:</span>\n  <span class=\"info-value\">${currency_rates}</span>\n</div>\n\n<div class=\"info-item\">\n  <span class=\"info-label\">Completed request:</span>\n  <span class=\"info-value\">${completed_requests}</span>\n</div>\n\n<div class=\"info-item\">\n  <span class=\"info-label\">Google Maps:</span>\n  <a href=\"https://www.google.com/maps/place/@${latitude},${longitude},17z/data=!3m1!4b1!4m4!3m3!8m2!3d50.4501!4d30.5234?entry=ttu\" target=\"_blank\">Link</a>\n\n  </div>\n  </div>`;\n}\n"],"names":["refs","getInfoByIP","userIp","BASE_URL","END_POINT","params","url","res","ipSubmitHandler","event","data","markup","templateIp","country","ip","city","country_flag","currency","timezone","completed_requests","currency_rates","latitude","longitude"],"mappings":"wFAAA,MAAMA,EAAO,CACX,OAAQ,SAAS,cAAc,iBAAiB,EAChD,SAAU,SAAS,cAAc,oBAAoB,CACvD,EAGA,SAASC,EAAYC,EAAQ,CAC3B,MAAMC,EAAW,mDACXC,EAAY,SACZC,EAAS,IAAI,gBAAgB,CACjC,GAAIH,CACR,CAAG,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAQ7C,OAAO,MAAMC,EANG,CACd,QAAS,CACP,iBAAkB,qDAClB,kBAAmB,0CACpB,CACL,CAC2B,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CACnD,CAGAP,EAAK,OAAO,iBAAiB,SAAUQ,CAAe,EAEtD,SAASA,EAAgBC,EAAO,CAC9BA,EAAM,eAAc,EAEpB,MAAMP,EAASO,EAAM,OAAO,SAAS,MAAM,MAE3CR,EAAYC,CAAM,EAAE,KAAKQ,GAAQ,CAC/B,MAAMC,EAASC,EAAWF,CAAI,EAC9BV,EAAK,SAAS,UAAYW,CAC9B,CAAG,EACDF,EAAM,OAAO,OACf,CAIA,SAASG,EAAW,CAClB,QAAAC,EACA,GAAAC,EACA,KAAAC,EACA,aAAAC,EACA,SAAAC,EACA,SAAAC,EACA,mBAAAC,EACA,eAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,sCAE6BN,CAAY,kBAAkBH,CAAO;AAAA;AAAA,6BAE9CA,CAAO;AAAA;AAAA;AAAA;AAAA;AAAA,6BAKPC,CAAE;AAAA;AAAA;AAAA;AAAA;AAAA,6BAKFC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6BAKJG,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,6BAKRD,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,6BAKRG,CAAc;AAAA;AAAA;AAAA;AAAA;AAAA,6BAKdD,CAAkB;AAAA;AAAA;AAAA;AAAA;AAAA,gDAKCE,CAAQ,IAAIC,CAAS;AAAA;AAAA;AAAA,SAIrE"}